{"version":3,"file":"static/chunks/624-a126768556329cb3.js","mappings":"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","sources":["webpack://_N_E/./src/components/board/states.ts","webpack://_N_E/./src/hooks/useGameDatabase.ts","webpack://_N_E/./src/components/board/endIcon.tsx","webpack://_N_E/./src/components/board/squareRenderer.tsx","webpack://_N_E/./src/components/board/evaluationBar.tsx","webpack://_N_E/./src/components/board/capturedPieces.tsx","webpack://_N_E/./src/components/board/playerHeader.tsx","webpack://_N_E/./src/components/board/index.tsx","webpack://_N_E/./src/lib/firebase.ts","webpack://_N_E/./src/components/slider.tsx","webpack://_N_E/./src/hooks/usePlayersData.ts","webpack://_N_E/./src/hooks/useScreenSize.ts","webpack://_N_E/./src/components/pageTitle.tsx","webpack://_N_E/./src/lib/sounds.ts","webpack://_N_E/./src/hooks/useChessActions.ts","webpack://_N_E/./src/hooks/useEngine.ts","webpack://_N_E/./src/hooks/useAtomLocalStorage.ts"],"sourcesContent":["import { PIECE_SETS } from \"@/constants\";\r\nimport { atomWithStorage } from \"jotai/utils\";\r\n\r\nexport const pieceSetAtom = atomWithStorage<(typeof PIECE_SETS)[number]>(\r\n  \"pieceSet\",\r\n  \"merida\"\r\n);\r\nexport const boardHueAtom = atomWithStorage(\"boardHue\", 185);\r\n","import { formatGameToDatabase } from \"@/lib/chess\";\r\nimport { GameEval } from \"@/types/eval\";\r\nimport { Game } from \"@/types/game\";\r\nimport { Chess } from \"chess.js\";\r\nimport { openDB, DBSchema, IDBPDatabase } from \"idb\";\r\nimport { atom, useAtom } from \"jotai\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\n\r\ninterface GameDatabaseSchema extends DBSchema {\r\n  games: {\r\n    value: Game;\r\n    key: number;\r\n  };\r\n}\r\n\r\nconst gamesAtom = atom<Game[]>([]);\r\nconst fetchGamesAtom = atom<boolean>(false);\r\n\r\nexport const useGameDatabase = (shouldFetchGames?: boolean) => {\r\n  const [db, setDb] = useState<IDBPDatabase<GameDatabaseSchema> | null>(null);\r\n  const [games, setGames] = useAtom(gamesAtom);\r\n  const [fetchGames, setFetchGames] = useAtom(fetchGamesAtom);\r\n  const [gameFromUrl, setGameFromUrl] = useState<Game | undefined>(undefined);\r\n\r\n  useEffect(() => {\r\n    if (shouldFetchGames !== undefined) {\r\n      setFetchGames(shouldFetchGames);\r\n    }\r\n  }, [shouldFetchGames, setFetchGames]);\r\n\r\n  useEffect(() => {\r\n    const initDatabase = async () => {\r\n      const db = await openDB<GameDatabaseSchema>(\"games\", 1, {\r\n        upgrade(db) {\r\n          db.createObjectStore(\"games\", { keyPath: \"id\", autoIncrement: true });\r\n        },\r\n      });\r\n      setDb(db);\r\n    };\r\n\r\n    initDatabase();\r\n  }, []);\r\n\r\n  const loadGames = useCallback(async () => {\r\n    if (db && fetchGames) {\r\n      const games = await db.getAll(\"games\");\r\n      setGames(games);\r\n    }\r\n  }, [db, fetchGames, setGames]);\r\n\r\n  useEffect(() => {\r\n    loadGames();\r\n  }, [loadGames]);\r\n\r\n  const addGame = useCallback(\r\n    async (game: Chess) => {\r\n      if (!db) throw new Error(\"Database not initialized\");\r\n\r\n      const gameToAdd = formatGameToDatabase(game);\r\n      const gameId = await db.add(\"games\", gameToAdd as Game);\r\n\r\n      loadGames();\r\n\r\n      return gameId;\r\n    },\r\n    [db, loadGames]\r\n  );\r\n\r\n  const setGameEval = useCallback(\r\n    async (gameId: number, evaluation: GameEval) => {\r\n      if (!db) throw new Error(\"Database not initialized\");\r\n\r\n      const game = await db.get(\"games\", gameId);\r\n      if (!game) throw new Error(\"Game not found\");\r\n\r\n      await db.put(\"games\", { ...game, eval: evaluation });\r\n\r\n      loadGames();\r\n    },\r\n    [db, loadGames]\r\n  );\r\n\r\n  const getGame = useCallback(\r\n    async (gameId: number) => {\r\n      if (!db) return undefined;\r\n\r\n      return db.get(\"games\", gameId);\r\n    },\r\n    [db]\r\n  );\r\n\r\n  const deleteGame = useCallback(\r\n    async (gameId: number) => {\r\n      if (!db) throw new Error(\"Database not initialized\");\r\n\r\n      await db.delete(\"games\", gameId);\r\n\r\n      loadGames();\r\n    },\r\n    [db, loadGames]\r\n  );\r\n\r\n  const router = useRouter();\r\n  const { gameId } = router.query;\r\n\r\n  useEffect(() => {\r\n    switch (typeof gameId) {\r\n      case \"string\":\r\n        getGame(parseInt(gameId)).then((game) => {\r\n          setGameFromUrl(game);\r\n        });\r\n        break;\r\n      default:\r\n        setGameFromUrl(undefined);\r\n    }\r\n  }, [gameId, setGameFromUrl, getGame]);\r\n\r\n  const isReady = db !== null;\r\n\r\n  return {\r\n    addGame,\r\n    setGameEval,\r\n    getGame,\r\n    deleteGame,\r\n    games,\r\n    isReady,\r\n    gameFromUrl,\r\n  };\r\n};\r\n","import Image from \"next/image\";\ninterface Props {\n  backgroundColor: string;\n  boardSize: number;\n  iconSrc: string;\n}\nexport default function EndIcon(props: Props) {\n  return <>\r\n        {/*background layer */}\r\n        <div className=\"fade-out-bg\" style={{\n      position: \"absolute\",\n      inset: 0,\n      // fills the entire square\n      backgroundColor: props.backgroundColor,\n      zIndex: 90\n    }} />\r\n\r\n        {/* Checkmate icon */}\r\n        <Image className=\"move-up-right-shrink\" src={props.iconSrc} alt=\"end icon\" width={props.boardSize / 8} height={props.boardSize / 8} style={{\n      position: \"absolute\",\n      zIndex: 100\n    }} data-sentry-element=\"Image\" data-sentry-source-file=\"endIcon.tsx\" />\r\n    </>;\n}","import { CurrentPosition } from \"@/types/eval\";\nimport { MoveClassification } from \"@/types/enums\";\nimport { PrimitiveAtom, atom, useAtomValue } from \"jotai\";\nimport Image from \"next/image\";\nimport { CSSProperties, forwardRef, useMemo } from \"react\";\nimport { CustomSquareProps, Square } from \"react-chessboard/dist/chessboard/types\";\nimport { CLASSIFICATION_COLORS } from \"@/constants\";\nimport { boardHueAtom } from \"./states\";\n\n//For game end markers\nimport { boardAtom } from \"@/sections/analysis/states\";\nimport { Color } from \"@/types/enums\";\nimport EndIcon from \"./endIcon\";\nimport { BASE_PATH } from \"@/globals\";\nexport interface Props {\n  currentPositionAtom: PrimitiveAtom<CurrentPosition>;\n  clickedSquaresAtom: PrimitiveAtom<Square[]>;\n  playableSquaresAtom: PrimitiveAtom<Square[]>;\n  showPlayerMoveIconAtom?: PrimitiveAtom<boolean>;\n  boardSize: number;\n}\nexport function getSquareRenderer({\n  currentPositionAtom,\n  clickedSquaresAtom,\n  playableSquaresAtom,\n  showPlayerMoveIconAtom = atom(false),\n  boardSize\n}: Props) {\n  const squareRenderer = forwardRef<HTMLDivElement, CustomSquareProps>((props, ref) => {\n    const {\n      children,\n      square,\n      style\n    } = props;\n    const showPlayerMoveIcon = useAtomValue(showPlayerMoveIconAtom);\n    const position = useAtomValue(currentPositionAtom);\n    const clickedSquares = useAtomValue(clickedSquaresAtom);\n    const playableSquares = useAtomValue(playableSquaresAtom);\n    const boardHue = useAtomValue(boardHueAtom);\n    const fromSquare = position.lastMove?.from;\n    const toSquare = position.lastMove?.to;\n    const moveClassification = position?.eval?.moveClassification;\n    const board = useAtomValue(boardAtom);\n    const highlightSquareStyle: CSSProperties | undefined = useMemo(() => clickedSquares.includes(square) ? rightClickSquareStyle : fromSquare === square || toSquare === square ? previousMoveSquareStyle(moveClassification) : undefined, [clickedSquares, square, fromSquare, toSquare, moveClassification]);\n    const playableSquareStyle: CSSProperties | undefined = useMemo(() => playableSquares.includes(square) ? playableSquareStyles : undefined, [playableSquares, square]);\n    const whiteKing: Square = board.findPiece({\n      color: \"w\",\n      type: \"k\"\n    })[0];\n    const blackKing: Square = board.findPiece({\n      color: \"b\",\n      type: \"k\"\n    })[0];\n    return <div ref={ref} style={{\n      ...style,\n      position: \"relative\",\n      filter: boardHue ? `hue-rotate(-${boardHue}deg)` : undefined\n    }}>\r\n          {children}\r\n          {highlightSquareStyle && <div style={highlightSquareStyle} />}\r\n          {playableSquareStyle && <div style={playableSquareStyle} />}\r\n          {moveClassification && showPlayerMoveIcon && square === toSquare && <Image src={`${BASE_PATH}/icons/${moveClassification}.png`} alt=\"move-icon\" width={Math.min(40, boardSize * 0.06)} height={Math.min(40, boardSize * 0.06)} style={{\n        position: \"absolute\",\n        top: Math.max(-13.5, boardSize * -0.03) + \"px\",\n        right: Math.max(-13.5, boardSize * -0.03) + \"px\",\n        zIndex: 100\n      }} />}\r\n\r\n          {/*Renders white king corresponding icon in the event of checkmate*/}\r\n          {board.isCheckmate() && square === whiteKing && <EndIcon iconSrc={board.turn() === Color.White ? `${BASE_PATH}/icons/checkmate.webp` : `${BASE_PATH}/icons/winner.webp`} backgroundColor={board.turn() === Color.White ? \"red\" : \"limegreen\"} boardSize={boardSize} />}\r\n\r\n          {/*Renders black king corresponding icon in the event of checkmate*/}\r\n          {board.isCheckmate() && square === blackKing && <EndIcon iconSrc={board.turn() === Color.Black ? `${BASE_PATH}/icons/checkmate.webp` : `${BASE_PATH}/icons/winner.webp`} backgroundColor={board.turn() === Color.Black ? \"red\" : \"limegreen\"} boardSize={boardSize} />}\r\n\r\n          {/*Renders kings corresponding icon in the event of a draw*/}\r\n          {board.isDraw() && (square === blackKing || square === whiteKing) && <EndIcon iconSrc={`${BASE_PATH}/icons/draw.webp`} backgroundColor=\"skyblue\" boardSize={boardSize} />}\r\n        </div>;\n  });\n  squareRenderer.displayName = \"SquareRenderer\";\n  return squareRenderer;\n}\nconst rightClickSquareStyle: CSSProperties = {\n  position: \"absolute\",\n  width: \"100%\",\n  height: \"100%\",\n  backgroundColor: \"#eb6150\",\n  opacity: \"0.8\"\n};\nconst playableSquareStyles: CSSProperties = {\n  position: \"absolute\",\n  width: \"100%\",\n  height: \"100%\",\n  backgroundColor: \"rgba(0,0,0,.14)\",\n  padding: \"35%\",\n  backgroundClip: \"content-box\",\n  borderRadius: \"50%\",\n  boxSizing: \"border-box\"\n};\nconst previousMoveSquareStyle = (moveClassification?: MoveClassification): CSSProperties => ({\n  position: \"absolute\",\n  width: \"100%\",\n  height: \"100%\",\n  backgroundColor: moveClassification ? CLASSIFICATION_COLORS[moveClassification] : \"#fad541\",\n  opacity: 0.5\n});","import { Box, Grid2 as Grid, Typography } from \"@mui/material\";\nimport { PrimitiveAtom, atom, useAtomValue } from \"jotai\";\nimport { useEffect, useState } from \"react\";\nimport { getEvaluationBarValue } from \"@/lib/chess\";\nimport { Color } from \"@/types/enums\";\nimport { CurrentPosition } from \"@/types/eval\";\ninterface Props {\n  height: number;\n  boardOrientation?: Color;\n  currentPositionAtom?: PrimitiveAtom<CurrentPosition>;\n}\nexport default function EvaluationBar({\n  height,\n  boardOrientation,\n  currentPositionAtom = atom({})\n}: Props) {\n  const [evalBar, setEvalBar] = useState({\n    whiteBarPercentage: 50,\n    label: \"0.0\"\n  });\n  const position = useAtomValue(currentPositionAtom);\n  useEffect(() => {\n    const bestLine = position?.eval?.lines[0];\n    if (!position.eval || !bestLine || bestLine.depth < 6) return;\n    const evalBar = getEvaluationBarValue(position.eval);\n    setEvalBar(evalBar);\n  }, [position]);\n  return <Grid container justifyContent=\"center\" alignItems=\"center\" width={{\n    xs: \"1.6rem\",\n    sm: \"2rem\"\n  }} height={height} border=\"1px solid black\" borderRadius={{\n    xs: \"3px\",\n    sm: \"5px\"\n  }} data-sentry-element=\"Grid\" data-sentry-component=\"EvaluationBar\" data-sentry-source-file=\"evaluationBar.tsx\">\r\n      <Box sx={{\n      backgroundColor: boardOrientation === Color.White ? \"#424242\" : \"white\",\n      transition: \"height 1s\"\n    }} height={`${boardOrientation === Color.White ? 100 - evalBar.whiteBarPercentage : evalBar.whiteBarPercentage}%`} width=\"100%\" borderRadius={evalBar.whiteBarPercentage === 100 ? {\n      xs: \"3px\",\n      sm: \"5px\"\n    } : {\n      xs: \"3px 3px 0 0\",\n      sm: \"5px 5px 0 0\"\n    }} data-sentry-element=\"Box\" data-sentry-source-file=\"evaluationBar.tsx\">\r\n        <Typography color={boardOrientation === Color.White ? \"white\" : \"black\"} textAlign=\"center\" width=\"100%\" fontSize={{\n        xs: \"0.9rem\",\n        sm: \"1rem\"\n      }} data-sentry-element=\"Typography\" data-sentry-source-file=\"evaluationBar.tsx\">\r\n          {evalBar.whiteBarPercentage < 50 && boardOrientation === Color.White || evalBar.whiteBarPercentage >= 50 && boardOrientation === Color.Black ? evalBar.label : \"\"}\r\n        </Typography>\r\n      </Box>\r\n\r\n      <Box sx={{\n      backgroundColor: boardOrientation === Color.White ? \"white\" : \"#424242\",\n      transition: \"height 1s\"\n    }} height={`${boardOrientation === Color.White ? evalBar.whiteBarPercentage : 100 - evalBar.whiteBarPercentage}%`} width=\"100%\" display=\"flex\" alignItems=\"flex-end\" borderRadius={evalBar.whiteBarPercentage === 100 ? {\n      xs: \"3px\",\n      sm: \"5px\"\n    } : {\n      xs: \"0 0 3px 3px\",\n      sm: \"0 0 5px 5px\"\n    }} data-sentry-element=\"Box\" data-sentry-source-file=\"evaluationBar.tsx\">\r\n        <Typography color={boardOrientation === Color.White ? \"black\" : \"white\"} textAlign=\"center\" width=\"100%\" fontSize={{\n        xs: \"0.9rem\",\n        sm: \"1rem\"\n      }} data-sentry-element=\"Typography\" data-sentry-source-file=\"evaluationBar.tsx\">\r\n          {evalBar.whiteBarPercentage >= 50 && boardOrientation === Color.White || evalBar.whiteBarPercentage < 50 && boardOrientation === Color.Black ? evalBar.label : \"\"}\r\n        </Typography>\r\n      </Box>\r\n    </Grid>;\n}","import { BASE_PATH } from \"@/globals\";\nimport { getCapturedPieces, getMaterialDifference } from \"@/lib/chess\";\nimport { Color } from \"@/types/enums\";\nimport { Box, Grid2 as Grid, Stack, Typography } from \"@mui/material\";\nimport { ReactElement, useMemo } from \"react\";\nexport interface Props {\n  fen: string;\n  color: Color;\n}\nconst PIECE_SCALE = 0.55;\nexport default function CapturedPieces({\n  fen,\n  color\n}: Props) {\n  const piecesComponents = useMemo(() => {\n    const capturedPieces = getCapturedPieces(fen, color);\n    return capturedPieces.map(({\n      piece,\n      count\n    }) => getCapturedPiecesComponents(piece, count));\n  }, [fen, color]);\n  const materialDiff = useMemo(() => {\n    const materialDiff = getMaterialDifference(fen);\n    return color === Color.White ? materialDiff : -materialDiff;\n  }, [fen, color]);\n  return <Grid container alignItems=\"end\" spacing={0.7} size=\"auto\" marginLeft={`-${0.3 * PIECE_SCALE}rem`} data-sentry-element=\"Grid\" data-sentry-component=\"CapturedPieces\" data-sentry-source-file=\"capturedPieces.tsx\">\r\n      <Stack direction=\"row\" spacing={0.1} data-sentry-element=\"Stack\" data-sentry-source-file=\"capturedPieces.tsx\">\r\n        {piecesComponents}\r\n      </Stack>\r\n\r\n      {materialDiff > 0 && <Typography lineHeight={`${PIECE_SCALE * 1.5}rem`} fontSize={`${PIECE_SCALE * 1.5}rem`} marginLeft={0.3}>\r\n          +{materialDiff}\r\n        </Typography>}\r\n    </Grid>;\n}\nconst getCapturedPiecesComponents = (pieceSymbol: string, pieceCount: number | undefined): ReactElement | null => {\n  if (!pieceCount) return null;\n  return <Stack direction=\"row\" key={pieceSymbol} spacing={`-${1.2 * PIECE_SCALE}rem`} data-sentry-element=\"Stack\" data-sentry-component=\"getCapturedPiecesComponents\" data-sentry-source-file=\"capturedPieces.tsx\">\r\n      {new Array(pieceCount).fill(0).map((_, index) => <Box key={`${pieceSymbol}-${index}`} width={`${2 * PIECE_SCALE}rem`} height={`${2 * PIECE_SCALE}rem`} sx={{\n      backgroundImage: `url(${BASE_PATH}/piece/cardinal/${pieceSymbol}.svg)`,\n      backgroundRepeat: \"no-repeat\"\n    }} />)}\r\n    </Stack>;\n};","import { Color } from \"@/types/enums\";\nimport { Player } from \"@/types/game\";\nimport { Avatar, Grid2 as Grid, Stack, Typography } from \"@mui/material\";\nimport CapturedPieces from \"./capturedPieces\";\nimport { PrimitiveAtom, useAtomValue } from \"jotai\";\nimport { Chess } from \"chess.js\";\nimport { useMemo } from \"react\";\nimport { getPaddedNumber } from \"@/lib/helpers\";\nexport interface Props {\n  player: Player;\n  color: Color;\n  gameAtom: PrimitiveAtom<Chess>;\n}\nexport default function PlayerHeader({\n  color,\n  player,\n  gameAtom\n}: Props) {\n  const game = useAtomValue(gameAtom);\n  const gameFen = game.fen();\n  const clock = useMemo(() => {\n    const turn = game.turn();\n    if (turn === color) {\n      const history = game.history({\n        verbose: true\n      });\n      const previousFen = history.at(-1)?.before;\n      const comment = game.getComments().find(({\n        fen\n      }) => fen === previousFen)?.comment;\n      return getClock(comment);\n    }\n    const comment = game.getComment();\n    return getClock(comment);\n  }, [game, color]);\n  return <Grid container justifyContent=\"space-between\" alignItems=\"center\" size={12} data-sentry-element=\"Grid\" data-sentry-component=\"PlayerHeader\" data-sentry-source-file=\"playerHeader.tsx\">\r\n      <Stack direction=\"row\" data-sentry-element=\"Stack\" data-sentry-source-file=\"playerHeader.tsx\">\r\n        <Avatar src={player.avatarUrl} alt={player.name} variant=\"circular\" sx={{\n        width: 40,\n        height: 40,\n        backgroundColor: color === Color.White ? \"white\" : \"black\",\n        color: color === Color.White ? \"black\" : \"white\",\n        border: \"1px solid black\"\n      }} data-sentry-element=\"Avatar\" data-sentry-source-file=\"playerHeader.tsx\">\r\n          {player.name[0].toUpperCase()}\r\n        </Avatar>\r\n\r\n        <Stack marginLeft={1} data-sentry-element=\"Stack\" data-sentry-source-file=\"playerHeader.tsx\">\r\n          <Stack direction=\"row\" data-sentry-element=\"Stack\" data-sentry-source-file=\"playerHeader.tsx\">\r\n            <Typography fontSize=\"0.9rem\" data-sentry-element=\"Typography\" data-sentry-source-file=\"playerHeader.tsx\">{player.name}</Typography>\r\n\r\n            {player.rating && <Typography marginLeft={0.5} fontSize=\"0.9rem\" fontWeight=\"200\">\r\n                ({player.rating})\r\n              </Typography>}\r\n          </Stack>\r\n\r\n          <CapturedPieces fen={gameFen} color={color} data-sentry-element=\"CapturedPieces\" data-sentry-source-file=\"playerHeader.tsx\" />\r\n        </Stack>\r\n      </Stack>\r\n\r\n      {clock && <Typography align=\"center\" sx={{\n      backgroundColor: color === Color.White ? \"white\" : \"black\",\n      color: color === Color.White ? \"black\" : \"white\"\n    }} borderRadius=\"5px\" padding={0.8} border=\"1px solid #424242\" width=\"5rem\" textAlign=\"right\">\r\n          {clock.hours ? `${clock.hours}:` : \"\"}\r\n          {getPaddedNumber(clock.minutes)}:{getPaddedNumber(clock.seconds)}\r\n          {clock.hours || clock.minutes || clock.seconds > 20 ? \"\" : `.${clock.tenths}`}\r\n        </Typography>}\r\n    </Grid>;\n}\nconst getClock = (comment: string | undefined) => {\n  if (!comment) return undefined;\n  const match = comment.match(/\\[%clk (\\d+):(\\d+):(\\d+)(?:\\.(\\d*))?\\]/);\n  if (!match) return undefined;\n  return {\n    hours: parseInt(match[1]),\n    minutes: parseInt(match[2]),\n    seconds: parseInt(match[3]),\n    tenths: match[4] ? parseInt(match[4]) : 0\n  };\n};","import { Box, Grid2 as Grid } from \"@mui/material\";\nimport { Chessboard } from \"react-chessboard\";\nimport { PrimitiveAtom, atom, useAtomValue, useSetAtom } from \"jotai\";\nimport { Arrow, CustomPieces, CustomSquareRenderer, Piece, PromotionPieceOption, Square } from \"react-chessboard/dist/chessboard/types\";\nimport { useChessActions } from \"@/hooks/useChessActions\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { Color, MoveClassification } from \"@/types/enums\";\nimport { Chess } from \"chess.js\";\nimport { getSquareRenderer } from \"./squareRenderer\";\nimport { CurrentPosition } from \"@/types/eval\";\nimport EvaluationBar from \"./evaluationBar\";\nimport { CLASSIFICATION_COLORS } from \"@/constants\";\nimport { Player } from \"@/types/game\";\nimport PlayerHeader from \"./playerHeader\";\nimport { boardHueAtom, pieceSetAtom } from \"./states\";\nimport tinycolor from \"tinycolor2\";\nimport { BASE_PATH } from \"@/globals\";\nexport interface Props {\n  id: string;\n  canPlay?: Color | boolean;\n  gameAtom: PrimitiveAtom<Chess>;\n  boardSize?: number;\n  whitePlayer: Player;\n  blackPlayer: Player;\n  boardOrientation?: Color;\n  currentPositionAtom?: PrimitiveAtom<CurrentPosition>;\n  showBestMoveArrow?: boolean;\n  showPlayerMoveIconAtom?: PrimitiveAtom<boolean>;\n  showEvaluationBar?: boolean;\n}\nexport default function Board({\n  id: boardId,\n  canPlay,\n  gameAtom,\n  boardSize,\n  whitePlayer,\n  blackPlayer,\n  boardOrientation = Color.White,\n  currentPositionAtom = atom({}),\n  showBestMoveArrow = false,\n  showPlayerMoveIconAtom,\n  showEvaluationBar = false\n}: Props) {\n  const boardRef = useRef<HTMLDivElement>(null);\n  const game = useAtomValue(gameAtom);\n  const {\n    playMove\n  } = useChessActions(gameAtom);\n  const clickedSquaresAtom = useMemo(() => atom<Square[]>([]), []);\n  const setClickedSquares = useSetAtom(clickedSquaresAtom);\n  const playableSquaresAtom = useMemo(() => atom<Square[]>([]), []);\n  const setPlayableSquares = useSetAtom(playableSquaresAtom);\n  const position = useAtomValue(currentPositionAtom);\n  const [showPromotionDialog, setShowPromotionDialog] = useState(false);\n  const [moveClickFrom, setMoveClickFrom] = useState<Square | null>(null);\n  const [moveClickTo, setMoveClickTo] = useState<Square | null>(null);\n  const pieceSet = useAtomValue(pieceSetAtom);\n  const boardHue = useAtomValue(boardHueAtom);\n  const gameFen = game.fen();\n  useEffect(() => {\n    setClickedSquares([]);\n  }, [gameFen, setClickedSquares]);\n  const isPiecePlayable = useCallback(({\n    piece\n  }: {\n    piece: string;\n  }): boolean => {\n    if (game.isGameOver() || !canPlay) return false;\n    if (canPlay === true || canPlay === piece[0]) return true;\n    return false;\n  }, [canPlay, game]);\n  const onPieceDrop = useCallback((source: Square, target: Square, piece: string): boolean => {\n    if (!isPiecePlayable({\n      piece\n    })) return false;\n    const result = playMove({\n      from: source,\n      to: target,\n      promotion: piece[1]?.toLowerCase() ?? \"q\"\n    });\n    return !!result;\n  }, [isPiecePlayable, playMove]);\n  const resetMoveClick = useCallback((square?: Square | null) => {\n    setMoveClickFrom(square ?? null);\n    setMoveClickTo(null);\n    setShowPromotionDialog(false);\n    if (square) {\n      const moves = game.moves({\n        square,\n        verbose: true\n      });\n      setPlayableSquares(moves.map(m => m.to));\n    } else {\n      setPlayableSquares([]);\n    }\n  }, [setMoveClickFrom, setMoveClickTo, setPlayableSquares, game]);\n  const handleSquareLeftClick = useCallback((square: Square, piece?: string) => {\n    setClickedSquares([]);\n    if (!moveClickFrom) {\n      if (piece && !isPiecePlayable({\n        piece\n      })) return;\n      resetMoveClick(square);\n      return;\n    }\n    const validMoves = game.moves({\n      square: moveClickFrom,\n      verbose: true\n    });\n    const move = validMoves.find(m => m.to === square);\n    if (!move) {\n      resetMoveClick(square);\n      return;\n    }\n    setMoveClickTo(square);\n    if (move.piece === \"p\" && (move.color === \"w\" && square[1] === \"8\" || move.color === \"b\" && square[1] === \"1\")) {\n      setShowPromotionDialog(true);\n      return;\n    }\n    const result = playMove({\n      from: moveClickFrom,\n      to: square\n    });\n    resetMoveClick(result ? undefined : square);\n  }, [game, isPiecePlayable, moveClickFrom, playMove, resetMoveClick, setClickedSquares]);\n  const handleSquareRightClick = useCallback((square: Square) => {\n    setClickedSquares(prev => prev.includes(square) ? prev.filter(s => s !== square) : [...prev, square]);\n  }, [setClickedSquares]);\n  const handlePieceDragBegin = useCallback((_: string, square: Square) => {\n    resetMoveClick(square);\n  }, [resetMoveClick]);\n  const handlePieceDragEnd = useCallback(() => {\n    resetMoveClick();\n  }, [resetMoveClick]);\n  const onPromotionPieceSelect = useCallback((piece?: PromotionPieceOption, from?: Square, to?: Square) => {\n    if (!piece) return false;\n    const promotionPiece = piece[1]?.toLowerCase() ?? \"q\";\n    if (moveClickFrom && moveClickTo) {\n      const result = playMove({\n        from: moveClickFrom,\n        to: moveClickTo,\n        promotion: promotionPiece\n      });\n      resetMoveClick();\n      return !!result;\n    }\n    if (from && to) {\n      const result = playMove({\n        from,\n        to,\n        promotion: promotionPiece\n      });\n      resetMoveClick();\n      return !!result;\n    }\n    resetMoveClick(moveClickFrom);\n    return false;\n  }, [moveClickFrom, moveClickTo, playMove, resetMoveClick]);\n  const customArrows: Arrow[] = useMemo(() => {\n    const bestMove = position?.lastEval?.bestMove;\n    const moveClassification = position?.eval?.moveClassification;\n    if (bestMove && showBestMoveArrow && moveClassification !== MoveClassification.Best && moveClassification !== MoveClassification.Opening && moveClassification !== MoveClassification.Forced && moveClassification !== MoveClassification.Perfect) {\n      const bestMoveArrow = [bestMove.slice(0, 2), bestMove.slice(2, 4), tinycolor(CLASSIFICATION_COLORS[MoveClassification.Best]).spin(-boardHue).toHexString()] as Arrow;\n      return [bestMoveArrow];\n    }\n    return [];\n  }, [position, showBestMoveArrow, boardHue]);\n  const SquareRenderer: CustomSquareRenderer = useMemo(() => {\n    return getSquareRenderer({\n      currentPositionAtom: currentPositionAtom,\n      clickedSquaresAtom,\n      playableSquaresAtom,\n      showPlayerMoveIconAtom,\n      boardSize: boardSize || 400\n    });\n  }, [currentPositionAtom, clickedSquaresAtom, playableSquaresAtom, showPlayerMoveIconAtom, boardSize]);\n  const customPieces = useMemo(() => PIECE_CODES.reduce<CustomPieces>((acc, piece) => {\n    acc[piece] = ({\n      squareWidth\n    }) => <Box width={squareWidth} height={squareWidth} sx={{\n      backgroundImage: `url(${BASE_PATH}/piece/${pieceSet}/${piece}.svg)`,\n      backgroundSize: \"contain\"\n    }} />;\n    return acc;\n  }, {}), [pieceSet]);\n  const customBoardStyle = useMemo(() => {\n    const commonBoardStyle = {\n      borderRadius: \"5px\",\n      boxShadow: \"0 2px 10px rgba(0, 0, 0, 0.5)\"\n    };\n    if (boardHue) {\n      return {\n        ...commonBoardStyle,\n        filter: `hue-rotate(${boardHue}deg)`\n      };\n    }\n    return commonBoardStyle;\n  }, [boardHue]);\n  return <Grid container justifyContent=\"center\" alignItems=\"center\" wrap=\"nowrap\" width={boardSize} data-sentry-element=\"Grid\" data-sentry-component=\"Board\" data-sentry-source-file=\"index.tsx\">\r\n      {showEvaluationBar && <EvaluationBar height={boardRef?.current?.offsetHeight || boardSize || 400} boardOrientation={boardOrientation} currentPositionAtom={currentPositionAtom} />}\r\n\r\n      <Grid container rowGap={1.5} justifyContent=\"center\" alignItems=\"center\" paddingLeft={{\n      xs: 0.5,\n      sm: showEvaluationBar ? 2 : 0\n    }} size=\"grow\" data-sentry-element=\"Grid\" data-sentry-source-file=\"index.tsx\">\r\n        <PlayerHeader color={boardOrientation === Color.White ? Color.Black : Color.White} gameAtom={gameAtom} player={boardOrientation === Color.White ? blackPlayer : whitePlayer} data-sentry-element=\"PlayerHeader\" data-sentry-source-file=\"index.tsx\" />\r\n\r\n        <Grid container justifyContent=\"center\" alignItems=\"center\" ref={boardRef} size={12} data-sentry-element=\"Grid\" data-sentry-source-file=\"index.tsx\">\r\n          <Chessboard id={`${boardId}-${canPlay}`} position={gameFen} onPieceDrop={onPieceDrop} boardOrientation={boardOrientation === Color.White ? \"white\" : \"black\"} customBoardStyle={customBoardStyle} customArrows={customArrows} isDraggablePiece={isPiecePlayable} customSquare={SquareRenderer} onSquareClick={handleSquareLeftClick} onSquareRightClick={handleSquareRightClick} onPieceDragBegin={handlePieceDragBegin} onPieceDragEnd={handlePieceDragEnd} onPromotionPieceSelect={onPromotionPieceSelect} showPromotionDialog={showPromotionDialog} promotionToSquare={moveClickTo} animationDuration={200} customPieces={customPieces} data-sentry-element=\"Chessboard\" data-sentry-source-file=\"index.tsx\" />\r\n        </Grid>\r\n\r\n        <PlayerHeader color={boardOrientation} gameAtom={gameAtom} player={boardOrientation === Color.White ? whitePlayer : blackPlayer} data-sentry-element=\"PlayerHeader\" data-sentry-source-file=\"index.tsx\" />\r\n      </Grid>\r\n    </Grid>;\n}\nexport const PIECE_CODES = [\"wP\", \"wB\", \"wN\", \"wR\", \"wQ\", \"wK\", \"bP\", \"bB\", \"bN\", \"bR\", \"bQ\", \"bK\"] as const satisfies Piece[];","import { FirebaseOptions, initializeApp } from \"firebase/app\";\r\nimport { getAnalytics, isSupported, logEvent } from \"firebase/analytics\";\r\n\r\nconst firebaseConfig: FirebaseOptions | undefined = process.env\r\n  .NEXT_PUBLIC_FIREBASE_PROJECT_ID\r\n  ? {\r\n      apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n      authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n      projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n      storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n      messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n      appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n      measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\r\n    }\r\n  : undefined;\r\n\r\nconst app = firebaseConfig ? initializeApp(firebaseConfig) : undefined;\r\n\r\nisSupported().then((supported) => {\r\n  if (supported && app) {\r\n    getAnalytics(app);\r\n  }\r\n});\r\n\r\nexport const logAnalyticsEvent = async (\r\n  eventName: string,\r\n  eventParams?: Record<string, unknown>\r\n) => {\r\n  if (window.location.hostname === \"localhost\") return;\r\n\r\n  const supported = await isSupported();\r\n  if (!supported || !app) return;\r\n\r\n  const analytics = getAnalytics(app);\r\n  logEvent(analytics, eventName, eventParams);\r\n};\r\n","import { Icon } from \"@iconify/react\";\nimport { ClickAwayListener, Grid2 as Grid, IconButton, Slider as MuiSlider, Popover, Stack, styled, Typography, TypographyProps } from \"@mui/material\";\nimport { MouseEvent, useState } from \"react\";\nexport interface Props {\n  value: number;\n  setValue: (value: number) => void;\n  min: number;\n  max: number;\n  label: string;\n  size?: number;\n  marksFilter?: number;\n  step?: number;\n  infoContent?: TypographyProps[\"children\"];\n}\nexport default function Slider({\n  min,\n  max,\n  label,\n  value,\n  setValue,\n  size,\n  marksFilter,\n  step = 1,\n  infoContent\n}: Props) {\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const handleOpenPopover = (event: MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClosePopover = () => {\n    setAnchorEl(null);\n  };\n  return <Grid container justifyContent=\"center\" alignItems=\"center\" size={size ?? 11} data-sentry-element=\"Grid\" data-sentry-component=\"Slider\" data-sentry-source-file=\"slider.tsx\">\r\n      <Stack direction=\"row\" width=\"100%\" data-sentry-element=\"Stack\" data-sentry-source-file=\"slider.tsx\">\r\n        <Typography id={`input-${label}`} variant=\"body2\" data-sentry-element=\"Typography\" data-sentry-source-file=\"slider.tsx\">\r\n          {step === 1 && marksFilter ? label : `${label}: ${value}`}\r\n        </Typography>\r\n\r\n        {!!infoContent && <>\r\n            <ClickAwayListener onClickAway={handleClosePopover}>\r\n              <IconButton size=\"medium\" aria-owns={anchorEl ? \"mouse-over-popover\" : undefined} aria-haspopup=\"true\" onClick={handleOpenPopover} onMouseEnter={handleOpenPopover} onMouseLeave={handleClosePopover} sx={{\n            ml: 1,\n            padding: 0\n          }} aria-label=\"Help about number of threads\">\r\n                <Icon icon=\"mdi:info-outline\" width=\"1.1rem\" />\r\n              </IconButton>\r\n            </ClickAwayListener>\r\n\r\n            <Popover id=\"mouse-over-popover\" open={!!anchorEl} anchorEl={anchorEl} onClose={handleClosePopover} anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\"\n        }} transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\"\n        }} sx={{\n          pointerEvents: \"none\"\n        }} disableRestoreFocus>\r\n              <Typography variant=\"body2\" sx={{\n            padding: 2,\n            maxWidth: 500\n          }}>\r\n                {infoContent}\r\n              </Typography>\r\n            </Popover>\r\n          </>}\r\n      </Stack>\r\n\r\n      <CustomSlider min={min} max={max} marks={marksFilter ? Array.from({\n      length: max - min + 1\n    }, (_, i) => ({\n      value: i + min,\n      label: `${i + min}`\n    })).filter((_, i) => i % marksFilter === 0) : undefined} step={step} valueLabelDisplay=\"off\" value={value} onChange={(_, value) => setValue(value as number)} aria-labelledby={`input-${label}`} data-sentry-element=\"CustomSlider\" data-sentry-source-file=\"slider.tsx\" />\r\n    </Grid>;\n}\nconst CustomSlider = styled(MuiSlider)(() => ({\n  \".MuiSlider-markLabel\": {\n    fontSize: \"0.8rem\",\n    lineHeight: \"0.8rem\"\n  },\n  \".MuiSlider-thumb\": {\n    width: \"18px\",\n    height: \"18px\"\n  },\n  marginBottom: \"1rem\"\n}));","import { Chess } from \"chess.js\";\r\nimport { PrimitiveAtom, useAtomValue } from \"jotai\";\r\nimport { useGameDatabase } from \"./useGameDatabase\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { getChessComUserAvatar } from \"@/lib/chessCom\";\r\nimport { Player } from \"@/types/game\";\r\n\r\nexport const usePlayersData = (\r\n  gameAtom: PrimitiveAtom<Chess>\r\n): { white: Player; black: Player } => {\r\n  const game = useAtomValue(gameAtom);\r\n  const { gameFromUrl } = useGameDatabase();\r\n  const headers = game.getHeaders();\r\n\r\n  const headersWhiteName =\r\n    headers.White && headers.White !== \"?\" ? headers.White : undefined;\r\n  const headersBlackName =\r\n    headers.Black && headers.Black !== \"?\" ? headers.Black : undefined;\r\n\r\n  const whiteName = gameFromUrl?.white?.name || headersWhiteName || \"White\";\r\n  const blackName = gameFromUrl?.black?.name || headersBlackName || \"Black\";\r\n\r\n  const whiteElo =\r\n    gameFromUrl?.white?.rating || Number(headers.WhiteElo) || undefined;\r\n  const blackElo =\r\n    gameFromUrl?.black?.rating || Number(headers.BlackElo) || undefined;\r\n\r\n  const siteHeader = gameFromUrl?.site || headers.Site || \"unknown\";\r\n  const isChessCom = siteHeader.toLowerCase().includes(\"chess.com\");\r\n\r\n  const whiteAvatarUrl = usePlayerAvatarUrl(\r\n    whiteName,\r\n    isChessCom && !!whiteName && whiteName !== \"White\"\r\n  );\r\n\r\n  const blackAvatarUrl = usePlayerAvatarUrl(\r\n    blackName,\r\n    isChessCom && !!blackName && blackName !== \"Black\"\r\n  );\r\n\r\n  return {\r\n    white: {\r\n      name: whiteName,\r\n      rating: whiteElo,\r\n      avatarUrl: whiteAvatarUrl ?? undefined,\r\n    },\r\n    black: {\r\n      name: blackName,\r\n      rating: blackElo,\r\n      avatarUrl: blackAvatarUrl ?? undefined,\r\n    },\r\n  };\r\n};\r\n\r\nconst usePlayerAvatarUrl = (\r\n  playerName: string,\r\n  enabled: boolean\r\n): string | null | undefined => {\r\n  const { data: avatarUrl } = useQuery({\r\n    queryKey: [\"CCAvatar\", playerName],\r\n    enabled,\r\n    queryFn: () => getChessComUserAvatar(playerName),\r\n    staleTime: 1000 * 60 * 60, // 1 hour\r\n    gcTime: 1000 * 60 * 60 * 24, // 1 day\r\n  });\r\n\r\n  return avatarUrl;\r\n};\r\n","import { useEffect, useState } from \"react\";\r\n\r\nexport const useScreenSize = () => {\r\n  const [screenSize, setScreenSize] = useState({\r\n    width: document?.querySelector(\".MuiGrid2-root\")?.clientWidth ?? 500,\r\n    height: window ? window.innerHeight - 120 : 500,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const mainDiv = document?.querySelector(\".MuiGrid2-root\");\r\n    if (!mainDiv) return;\r\n\r\n    const observer = new ResizeObserver(() =>\r\n      setScreenSize((prev) => ({ ...prev, width: mainDiv.clientWidth }))\r\n    );\r\n    observer.observe(mainDiv);\r\n\r\n    return () => {\r\n      observer.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setScreenSize((prev) => ({\r\n        ...prev,\r\n        height: window.innerHeight - 100,\r\n      }));\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []);\r\n\r\n  return screenSize;\r\n};\r\n","import Head from \"next/head\";\nexport const PageTitle = ({\n  title\n}: {\n  title: string;\n}) => {\n  return <Head data-sentry-element=\"Head\" data-sentry-component=\"PageTitle\" data-sentry-source-file=\"pageTitle.tsx\">\r\n      <title>{title}</title>\r\n      <meta property=\"og:title\" content={title} data-sentry-element=\"meta\" data-sentry-source-file=\"pageTitle.tsx\" />\r\n    </Head>;\n};","import { BASE_PATH } from \"@/globals\";\r\nimport { Move } from \"chess.js\";\r\n\r\nlet audioContext: AudioContext | null = null;\r\nlet timeout: NodeJS.Timeout | null = null;\r\nconst soundsCache = new Map<string, AudioBuffer>();\r\n\r\ntype Sound = \"move\" | \"capture\" | \"illegalMove\";\r\nconst soundUrls: Record<Sound, string> = {\r\n  move: `${BASE_PATH}/sounds/move.mp3`,\r\n  capture: `${BASE_PATH}/sounds/capture.mp3`,\r\n  illegalMove: `${BASE_PATH}/sounds/error.mp3`,\r\n};\r\nexport const play = async (sound: Sound) => {\r\n  if (timeout) clearTimeout(timeout);\r\n\r\n  timeout = setTimeout(async () => {\r\n    if (!audioContext) audioContext = new AudioContext();\r\n    if (audioContext.state === \"suspended\") await audioContext.resume();\r\n\r\n    let audioBuffer = soundsCache.get(soundUrls[sound]);\r\n    if (!audioBuffer) {\r\n      const res = await fetch(soundUrls[sound]);\r\n      const buffer = await audioContext.decodeAudioData(\r\n        await res.arrayBuffer()\r\n      );\r\n      audioBuffer = buffer;\r\n      soundsCache.set(soundUrls[sound], buffer);\r\n    }\r\n\r\n    const audioSrc = audioContext.createBufferSource();\r\n    audioSrc.buffer = audioBuffer;\r\n    const volume = audioContext.createGain();\r\n    volume.gain.value = 0.3;\r\n    audioSrc.connect(volume);\r\n    volume.connect(audioContext.destination);\r\n    audioSrc.start();\r\n  }, 1);\r\n};\r\n\r\nexport const playCaptureSound = () => play(\"capture\");\r\nexport const playIllegalMoveSound = () => play(\"illegalMove\");\r\nexport const playMoveSound = () => play(\"move\");\r\n\r\nexport const playSoundFromMove = (move: Move | null) => {\r\n  if (!move) return playIllegalMoveSound();\r\n  if (move.captured) return playCaptureSound();\r\n  return playMoveSound();\r\n};\r\n","import { getGameFromPgn, setGameHeaders } from \"@/lib/chess\";\r\nimport { playIllegalMoveSound, playSoundFromMove } from \"@/lib/sounds\";\r\nimport { Player } from \"@/types/game\";\r\nimport { Chess, Move, DEFAULT_POSITION } from \"chess.js\";\r\nimport { PrimitiveAtom, useAtom } from \"jotai\";\r\nimport { useCallback } from \"react\";\r\n\r\nexport interface resetGameParams {\r\n  fen?: string;\r\n  white?: Player;\r\n  black?: Player;\r\n  noHeaders?: boolean;\r\n}\r\n\r\nexport const useChessActions = (chessAtom: PrimitiveAtom<Chess>) => {\r\n  const [game, setGame] = useAtom(chessAtom);\r\n\r\n  const setPgn = useCallback(\r\n    (pgn: string) => {\r\n      const newGame = new Chess();\r\n      newGame.loadPgn(pgn);\r\n      setGame(newGame);\r\n    },\r\n    [setGame]\r\n  );\r\n\r\n  const reset = useCallback(\r\n    (params?: resetGameParams) => {\r\n      const newGame = new Chess(params?.fen);\r\n      if (!params?.noHeaders) setGameHeaders(newGame, params);\r\n      setGame(newGame);\r\n    },\r\n    [setGame]\r\n  );\r\n\r\n  const copyGame = useCallback(() => {\r\n    const newGame = new Chess();\r\n\r\n    if (game.history().length === 0) {\r\n      const pgnSplitted = game.pgn().split(\"]\");\r\n      if (\r\n        [\"1-0\", \"0-1\", \"1/2-1/2\", \"*\"].includes(\r\n          pgnSplitted.at(-1)?.trim() ?? \"\"\r\n        )\r\n      ) {\r\n        newGame.loadPgn(pgnSplitted.slice(0, -1).join(\"]\") + \"]\");\r\n        return newGame;\r\n      }\r\n    }\r\n\r\n    newGame.loadPgn(game.pgn());\r\n    return newGame;\r\n  }, [game]);\r\n\r\n  const resetToStartingPosition = useCallback(\r\n    (pgn?: string) => {\r\n      const newGame = pgn ? getGameFromPgn(pgn) : copyGame();\r\n      newGame.load(newGame.getHeaders().FEN || DEFAULT_POSITION, {\r\n        preserveHeaders: true,\r\n      });\r\n      setGame(newGame);\r\n    },\r\n    [copyGame, setGame]\r\n  );\r\n\r\n  const playMove = useCallback(\r\n    (params: {\r\n      from: string;\r\n      to: string;\r\n      promotion?: string;\r\n      comment?: string;\r\n    }): Move | null => {\r\n      const newGame = copyGame();\r\n\r\n      try {\r\n        const { comment, ...move } = params;\r\n        const result = newGame.move(move);\r\n        if (comment) newGame.setComment(comment);\r\n\r\n        setGame(newGame);\r\n        playSoundFromMove(result);\r\n        return result;\r\n      } catch {\r\n        playIllegalMoveSound();\r\n        return null;\r\n      }\r\n    },\r\n    [copyGame, setGame]\r\n  );\r\n\r\n  const addMoves = useCallback(\r\n    (moves: string[]) => {\r\n      const newGame = copyGame();\r\n\r\n      let lastMove: Move | null = null;\r\n      for (const move of moves) {\r\n        lastMove = newGame.move(move);\r\n      }\r\n      setGame(newGame);\r\n      if (lastMove) playSoundFromMove(lastMove);\r\n    },\r\n    [copyGame, setGame]\r\n  );\r\n\r\n  const undoMove = useCallback(() => {\r\n    const newGame = copyGame();\r\n    const move = newGame.undo();\r\n    if (move) playSoundFromMove(move);\r\n    setGame(newGame);\r\n  }, [copyGame, setGame]);\r\n\r\n  const goToMove = useCallback(\r\n    (moveIdx: number, fullGame: Chess) => {\r\n      if (moveIdx < 0) return;\r\n\r\n      const newGame = new Chess();\r\n      newGame.loadPgn(fullGame.pgn());\r\n\r\n      const movesNb = fullGame.history().length;\r\n      if (moveIdx > movesNb) return;\r\n\r\n      let lastMove: Move | null = {} as Move;\r\n      for (let i = movesNb; i > moveIdx; i--) {\r\n        lastMove = newGame.undo();\r\n      }\r\n\r\n      setGame(newGame);\r\n      playSoundFromMove(lastMove);\r\n    },\r\n    [setGame]\r\n  );\r\n\r\n  return {\r\n    setPgn,\r\n    reset,\r\n    playMove,\r\n    undoMove,\r\n    goToMove,\r\n    resetToStartingPosition,\r\n    addMoves,\r\n  };\r\n};\r\n","import { isWasmSupported } from \"@/lib/engine/shared\";\r\nimport { Stockfish11 } from \"@/lib/engine/stockfish11\";\r\nimport { Stockfish16 } from \"@/lib/engine/stockfish16\";\r\nimport { Stockfish16_1 } from \"@/lib/engine/stockfish16_1\";\r\nimport { Stockfish17 } from \"@/lib/engine/stockfish17\";\r\nimport { Stockfish17_1 } from \"@/lib/engine/stockfish17_1\";\r\nimport { UciEngine } from \"@/lib/engine/uciEngine\";\r\nimport { EngineName } from \"@/types/enums\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport const useEngine = (engineName: EngineName | undefined) => {\r\n  const [engine, setEngine] = useState<UciEngine | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!engineName) return;\r\n\r\n    if (engineName !== EngineName.Stockfish11 && !isWasmSupported()) {\r\n      return;\r\n    }\r\n\r\n    pickEngine(engineName).then((newEngine) => {\r\n      setEngine((prev) => {\r\n        prev?.shutdown();\r\n        return newEngine;\r\n      });\r\n    });\r\n  }, [engineName]);\r\n\r\n  return engine;\r\n};\r\n\r\nconst pickEngine = (engine: EngineName): Promise<UciEngine> => {\r\n  switch (engine) {\r\n    case EngineName.Stockfish17_1:\r\n      return Stockfish17_1.create(false);\r\n    case EngineName.Stockfish17_1Lite:\r\n      return Stockfish17_1.create(true);\r\n    case EngineName.Stockfish17:\r\n      return Stockfish17.create(false);\r\n    case EngineName.Stockfish17Lite:\r\n      return Stockfish17.create(true);\r\n    case EngineName.Stockfish16_1:\r\n      return Stockfish16_1.create(false);\r\n    case EngineName.Stockfish16_1Lite:\r\n      return Stockfish16_1.create(true);\r\n    case EngineName.Stockfish16:\r\n      return Stockfish16.create(false);\r\n    case EngineName.Stockfish16NNUE:\r\n      return Stockfish16.create(true);\r\n    case EngineName.Stockfish11:\r\n      return Stockfish11.create();\r\n  }\r\n};\r\n","import { PrimitiveAtom, SetStateAction, useAtom } from \"jotai\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport function useAtomLocalStorage<T>(\r\n  key: string,\r\n  atom: PrimitiveAtom<T>\r\n): [T, (value: SetStateAction<T>) => void] {\r\n  const [keyTemp, setKeyTemp] = useState(\"\");\r\n  const [storedValue, setStoredValue] = useAtom(atom);\r\n\r\n  useEffect(() => {\r\n    setKeyTemp(key);\r\n    const item = window.localStorage.getItem(key);\r\n    if (!item) return;\r\n    const value = parseJSON<T>(item);\r\n    if (value) setStoredValue(value);\r\n  }, [key, setStoredValue]);\r\n\r\n  useEffect(() => {\r\n    if (keyTemp !== key) return;\r\n    window.localStorage.setItem(key, JSON.stringify(storedValue));\r\n  }, [key, keyTemp, storedValue]);\r\n\r\n  return [storedValue, setStoredValue];\r\n}\r\n\r\nfunction parseJSON<T>(value: string): T | undefined {\r\n  return value === \"undefined\" ? undefined : JSON.parse(value);\r\n}\r\n"],"names":["pieceSetAtom","atomWithStorage","gamesAtom","atom","fetchGamesAtom","useGameDatabase","db","setDb","useState","games","setGames","useAtom","fetchGames","setFetchGames","gameFromUrl","setGameFromUrl","undefined","useEffect","shouldFetchGames","initDatabase","openDB","upgrade","createObjectStore","keyPath","autoIncrement","loadGames","useCallback","getAll","addGame","game","Error","gameToAdd","formatGameToDatabase","gameId","add","setGameEval","evaluation","get","put","eval","getGame","deleteGame","delete","useRouter","query","parseInt","then","isReady","EndIcon","props","div","className","style","position","inset","backgroundColor","zIndex","Image","src","iconSrc","alt","width","boardSize","height","data-sentry-element","data-sentry-source-file","rightClickSquareStyle","opacity","playableSquareStyles","padding","backgroundClip","borderRadius","boxSizing","previousMoveSquareStyle","moveClassification","CLASSIFICATION_COLORS","EvaluationBar","boardOrientation","currentPositionAtom","evalBar","setEvalBar","whiteBarPercentage","label","useAtomValue","bestLine","lines","depth","getEvaluationBarValue","Grid","container","justifyContent","alignItems","xs","sm","border","data-sentry-component","Box","sx","Color","White","transition","Typography","color","textAlign","fontSize","Black","display","CapturedPieces","fen","piecesComponents","useMemo","getCapturedPieces","map","piece","count","getCapturedPiecesComponents","materialDiff","getMaterialDifference","spacing","size","marginLeft","PIECE_SCALE","Stack","direction","lineHeight","pieceSymbol","pieceCount","fill","_","index","backgroundImage","BASE_PATH","backgroundRepeat","PlayerHeader","player","gameAtom","gameFen","clock","turn","history","previousFen","verbose","at","before","getClock","comment","getComments","find","getComment","Avatar","avatarUrl","name","variant","toUpperCase","rating","fontWeight","align","hours","getPaddedNumber","minutes","seconds","tenths","match","Board","boardRef","id","boardId","canPlay","whitePlayer","blackPlayer","showBestMoveArrow","showPlayerMoveIconAtom","showEvaluationBar","useRef","playMove","useChessActions","clickedSquaresAtom","setClickedSquares","useSetAtom","playableSquaresAtom","setPlayableSquares","showPromotionDialog","setShowPromotionDialog","moveClickFrom","setMoveClickFrom","moveClickTo","setMoveClickTo","pieceSet","boardHue","boardHueAtom","isPiecePlayable","isGameOver","onPieceDrop","source","target","from","to","promotion","toLowerCase","resetMoveClick","square","moves","m","handleSquareLeftClick","move","validMoves","handleSquareRightClick","prev","includes","filter","s","handlePieceDragBegin","handlePieceDragEnd","onPromotionPieceSelect","promotionPiece","result","customArrows","bestMove","lastEval","MoveClassification","Best","Opening","Forced","Perfect","slice","tinycolor","spin","toHexString","SquareRenderer","getSquareRenderer","squareRenderer","forwardRef","ref","children","showPlayerMoveIcon","clickedSquares","playableSquares","fromSquare","lastMove","toSquare","board","boardAtom","highlightSquareStyle","playableSquareStyle","whiteKing","findPiece","type","blackKing","Math","min","top","max","right","isCheckmate","isDraw","displayName","customPieces","PIECE_CODES","reduce","acc","squareWidth","backgroundSize","customBoardStyle","commonBoardStyle","boxShadow","wrap","current","offsetHeight","rowGap","paddingLeft","Chessboard","isDraggablePiece","customSquare","onSquareClick","onSquareRightClick","onPieceDragBegin","onPieceDragEnd","promotionToSquare","animationDuration","firebaseConfig","process","env","NEXT_PUBLIC_FIREBASE_PROJECT_ID","apiKey","NEXT_PUBLIC_FIREBASE_API_KEY","authDomain","NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN","projectId","storageBucket","NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET","messagingSenderId","NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID","appId","NEXT_PUBLIC_FIREBASE_APP_ID","measurementId","NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID","app","initializeApp","isSupported","supported","getAnalytics","logAnalyticsEvent","eventName","eventParams","window","location","hostname","analytics","logEvent","Slider","value","setValue","marksFilter","step","infoContent","anchorEl","setAnchorEl","handleOpenPopover","event","currentTarget","handleClosePopover","ClickAwayListener","onClickAway","IconButton","aria-owns","aria-haspopup","onClick","onMouseEnter","onMouseLeave","ml","aria-label","Icon","icon","Popover","open","onClose","anchorOrigin","vertical","horizontal","transformOrigin","pointerEvents","disableRestoreFocus","maxWidth","CustomSlider","marks","Array","length","i","valueLabelDisplay","onChange","aria-labelledby","styled","MuiSlider","marginBottom","usePlayersData","headers","getHeaders","headersWhiteName","headersBlackName","whiteName","white","blackName","black","whiteElo","Number","WhiteElo","blackElo","BlackElo","isChessCom","siteHeader","site","Site","whiteAvatarUrl","usePlayerAvatarUrl","blackAvatarUrl","playerName","enabled","data","useQuery","queryKey","queryFn","getChessComUserAvatar","staleTime","gcTime","useScreenSize","document","screenSize","setScreenSize","querySelector","clientWidth","innerHeight","mainDiv","observer","ResizeObserver","observe","disconnect","handleResize","addEventListener","removeEventListener","PageTitle","title","Head","meta","property","content","audioContext","timeout","soundsCache","Map","soundUrls","capture","illegalMove","play","sound","clearTimeout","setTimeout","AudioContext","state","resume","audioBuffer","res","fetch","buffer","decodeAudioData","arrayBuffer","set","audioSrc","createBufferSource","volume","createGain","gain","connect","destination","start","playMoveSound","playCaptureSound","playIllegalMoveSound","setGame","chessAtom","setPgn","newGame","Chess","loadPgn","pgn","reset","params","noHeaders","setGameHeaders","copyGame","pgnSplitted","split","trim","join","resetToStartingPosition","getGameFromPgn","load","FEN","DEFAULT_POSITION","preserveHeaders","setComment","playSoundFromMove","addMoves","undoMove","undo","goToMove","moveIdx","fullGame","movesNb","useEngine","engine","setEngine","engineName","EngineName","Stockfish11","isWasmSupported","shutdown","newEngine","Stockfish17_1","create","Stockfish17_1Lite","Stockfish17","Stockfish17Lite","Stockfish16_1","Stockfish16_1Lite","Stockfish16","Stockfish16NNUE","useAtomLocalStorage","key","keyTemp","setKeyTemp","storedValue","setStoredValue","item","localStorage","getItem","parseJSON","JSON","parse","setItem","stringify"],"sourceRoot":""}
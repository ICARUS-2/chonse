{"version":3,"file":"static/chunks/pages/database-be9fb29380126b3b.js","mappings":"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","sources":["webpack://_N_E/./src/hooks/useGameDatabase.ts","webpack://_N_E/./src/pages/database.tsx","webpack://_N_E/./src/components/pageTitle.tsx","webpack://_N_E/?c2b5"],"sourcesContent":["import { formatGameToDatabase } from \"@/lib/chess\";\r\nimport { GameEval } from \"@/types/eval\";\r\nimport { Game } from \"@/types/game\";\r\nimport { Chess } from \"chess.js\";\r\nimport { openDB, DBSchema, IDBPDatabase } from \"idb\";\r\nimport { atom, useAtom } from \"jotai\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\n\r\ninterface GameDatabaseSchema extends DBSchema {\r\n  games: {\r\n    value: Game;\r\n    key: number;\r\n  };\r\n}\r\n\r\nconst gamesAtom = atom<Game[]>([]);\r\nconst fetchGamesAtom = atom<boolean>(false);\r\n\r\nexport const useGameDatabase = (shouldFetchGames?: boolean) => {\r\n  const [db, setDb] = useState<IDBPDatabase<GameDatabaseSchema> | null>(null);\r\n  const [games, setGames] = useAtom(gamesAtom);\r\n  const [fetchGames, setFetchGames] = useAtom(fetchGamesAtom);\r\n  const [gameFromUrl, setGameFromUrl] = useState<Game | undefined>(undefined);\r\n\r\n  useEffect(() => {\r\n    if (shouldFetchGames !== undefined) {\r\n      setFetchGames(shouldFetchGames);\r\n    }\r\n  }, [shouldFetchGames, setFetchGames]);\r\n\r\n  useEffect(() => {\r\n    const initDatabase = async () => {\r\n      const db = await openDB<GameDatabaseSchema>(\"games\", 1, {\r\n        upgrade(db) {\r\n          db.createObjectStore(\"games\", { keyPath: \"id\", autoIncrement: true });\r\n        },\r\n      });\r\n      setDb(db);\r\n    };\r\n\r\n    initDatabase();\r\n  }, []);\r\n\r\n  const loadGames = useCallback(async () => {\r\n    if (db && fetchGames) {\r\n      const games = await db.getAll(\"games\");\r\n      setGames(games);\r\n    }\r\n  }, [db, fetchGames, setGames]);\r\n\r\n  useEffect(() => {\r\n    loadGames();\r\n  }, [loadGames]);\r\n\r\n  const addGame = useCallback(\r\n    async (game: Chess) => {\r\n      if (!db) throw new Error(\"Database not initialized\");\r\n\r\n      const gameToAdd = formatGameToDatabase(game);\r\n      const gameId = await db.add(\"games\", gameToAdd as Game);\r\n\r\n      loadGames();\r\n\r\n      return gameId;\r\n    },\r\n    [db, loadGames]\r\n  );\r\n\r\n  const setGameEval = useCallback(\r\n    async (gameId: number, evaluation: GameEval) => {\r\n      if (!db) throw new Error(\"Database not initialized\");\r\n\r\n      const game = await db.get(\"games\", gameId);\r\n      if (!game) throw new Error(\"Game not found\");\r\n\r\n      await db.put(\"games\", { ...game, eval: evaluation });\r\n\r\n      loadGames();\r\n    },\r\n    [db, loadGames]\r\n  );\r\n\r\n  const getGame = useCallback(\r\n    async (gameId: number) => {\r\n      if (!db) return undefined;\r\n\r\n      return db.get(\"games\", gameId);\r\n    },\r\n    [db]\r\n  );\r\n\r\n  const deleteGame = useCallback(\r\n    async (gameId: number) => {\r\n      if (!db) throw new Error(\"Database not initialized\");\r\n\r\n      await db.delete(\"games\", gameId);\r\n\r\n      loadGames();\r\n    },\r\n    [db, loadGames]\r\n  );\r\n\r\n  const router = useRouter();\r\n  const { gameId } = router.query;\r\n\r\n  useEffect(() => {\r\n    switch (typeof gameId) {\r\n      case \"string\":\r\n        getGame(parseInt(gameId)).then((game) => {\r\n          setGameFromUrl(game);\r\n        });\r\n        break;\r\n      default:\r\n        setGameFromUrl(undefined);\r\n    }\r\n  }, [gameId, setGameFromUrl, getGame]);\r\n\r\n  const isReady = db !== null;\r\n\r\n  return {\r\n    addGame,\r\n    setGameEval,\r\n    getGame,\r\n    deleteGame,\r\n    games,\r\n    isReady,\r\n    gameFromUrl,\r\n  };\r\n};\r\n","import { Grid2 as Grid, Typography } from \"@mui/material\";\nimport { Icon } from \"@iconify/react\";\nimport { DataGrid, GridColDef, GridLocaleText, GRID_DEFAULT_LOCALE_TEXT, GridActionsCellItem, GridRowId } from \"@mui/x-data-grid\";\nimport { useCallback, useMemo } from \"react\";\nimport { blue, red } from \"@mui/material/colors\";\nimport LoadGameButton from \"@/sections/loadGame/loadGameButton\";\nimport { useGameDatabase } from \"@/hooks/useGameDatabase\";\nimport { useRouter } from \"next/router\";\nimport { PageTitle } from \"@/components/pageTitle\";\nconst gridLocaleText: GridLocaleText = {\n  ...GRID_DEFAULT_LOCALE_TEXT,\n  noRowsLabel: \"No games found\"\n};\nexport default function GameDatabase() {\n  const {\n    games,\n    deleteGame\n  } = useGameDatabase(true);\n  const router = useRouter();\n  console.log(games);\n  const handleDeleteGameRow = useCallback((id: GridRowId) => async () => {\n    if (typeof id !== \"number\") {\n      throw new Error(\"Unable to remove game\");\n    }\n    await deleteGame(id);\n  }, [deleteGame]);\n  const handleCopyGameRow = useCallback((id: GridRowId) => async () => {\n    if (typeof id !== \"number\") {\n      throw new Error(\"Unable to copy game\");\n    }\n    await navigator.clipboard?.writeText?.(games[id - 1].pgn);\n  }, [games]);\n  const columns: GridColDef[] = useMemo(() => [{\n    field: \"event\",\n    headerName: \"Event\",\n    width: 150\n  }, {\n    field: \"site\",\n    headerName: \"Site\",\n    width: 150\n  }, {\n    field: \"date\",\n    headerName: \"Date\",\n    width: 150\n  }, {\n    field: \"round\",\n    headerName: \"Round\",\n    headerAlign: \"center\",\n    align: \"center\",\n    width: 150\n  }, {\n    field: \"whiteLabel\",\n    headerName: \"White\",\n    width: 200,\n    headerAlign: \"center\",\n    align: \"center\",\n    valueGetter: (_, row) => `${row.white.name ?? \"Unknown\"} (${row.white.rating ?? \"?\"})`\n  }, {\n    field: \"result\",\n    headerName: \"Result\",\n    headerAlign: \"center\",\n    align: \"center\",\n    width: 100\n  }, {\n    field: \"blackLabel\",\n    headerName: \"Black\",\n    width: 200,\n    headerAlign: \"center\",\n    align: \"center\",\n    valueGetter: (_, row) => `${row.black.name ?? \"Unknown\"} (${row.black.rating ?? \"?\"})`\n  }, {\n    field: \"eval\",\n    headerName: \"Evaluation\",\n    type: \"boolean\",\n    headerAlign: \"center\",\n    align: \"center\",\n    width: 100,\n    valueGetter: (_, row) => !!row.eval\n  }, {\n    field: \"openEvaluation\",\n    type: \"actions\",\n    headerName: \"Analyze\",\n    width: 100,\n    cellClassName: \"actions\",\n    getActions: ({\n      id\n    }) => {\n      return [<GridActionsCellItem icon={<Icon icon=\"streamline:magnifying-glass-solid\" width=\"20px\" />} label=\"Open Evaluation\" onClick={() => router.push({\n        pathname: \"/\",\n        query: {\n          gameId: id\n        }\n      })} color=\"inherit\" key={`${id}-open-eval-button`} />];\n    }\n  }, {\n    field: \"delete\",\n    type: \"actions\",\n    headerName: \"Delete\",\n    width: 100,\n    cellClassName: \"actions\",\n    getActions: ({\n      id\n    }) => {\n      return [<GridActionsCellItem icon={<Icon icon=\"mdi:delete-outline\" color={red[400]} width=\"20px\" />} label=\"Delete\" onClick={handleDeleteGameRow(id)} color=\"inherit\" key={`${id}-delete-button`} />];\n    }\n  }, {\n    field: \"copy pgn\",\n    type: \"actions\",\n    headerName: \"Copy pgn\",\n    width: 100,\n    cellClassName: \"actions\",\n    getActions: ({\n      id\n    }) => {\n      return [<GridActionsCellItem icon={<Icon icon=\"ri:clipboard-line\" color={blue[400]} width=\"20px\" />} label=\"Copy pgn\" onClick={handleCopyGameRow(id)} color=\"inherit\" key={`${id}-copy-button`} />];\n    }\n  }], [handleDeleteGameRow, handleCopyGameRow, router]);\n  return <Grid container justifyContent=\"center\" alignItems=\"center\" gap={4} marginTop={6} data-sentry-element=\"Grid\" data-sentry-component=\"GameDatabase\" data-sentry-source-file=\"database.tsx\">\r\n      <PageTitle title=\"Chesskit Game Database\" data-sentry-element=\"PageTitle\" data-sentry-source-file=\"database.tsx\" />\r\n\r\n      <Grid container justifyContent=\"center\" alignItems=\"center\" size={12} data-sentry-element=\"Grid\" data-sentry-source-file=\"database.tsx\">\r\n        <LoadGameButton data-sentry-element=\"LoadGameButton\" data-sentry-source-file=\"database.tsx\" />\r\n      </Grid>\r\n\r\n      <Grid container justifyContent=\"center\" alignItems=\"center\" size={12} data-sentry-element=\"Grid\" data-sentry-source-file=\"database.tsx\">\r\n        <Typography variant=\"subtitle2\" data-sentry-element=\"Typography\" data-sentry-source-file=\"database.tsx\">\r\n          You have {games.length} game{games.length !== 1 && \"s\"} in your\r\n          database\r\n        </Typography>\r\n      </Grid>\r\n\r\n      <Grid maxWidth=\"100%\" minWidth=\"50px\" data-sentry-element=\"Grid\" data-sentry-source-file=\"database.tsx\">\r\n        <DataGrid aria-label=\"Games list\" rows={games} columns={columns} disableColumnMenu hideFooter={true} localeText={gridLocaleText} initialState={{\n        sorting: {\n          sortModel: [{\n            field: \"date\",\n            sort: \"desc\"\n          }]\n        }\n      }} data-sentry-element=\"DataGrid\" data-sentry-source-file=\"database.tsx\" />\r\n      </Grid>\r\n    </Grid>;\n}","import Head from \"next/head\";\nexport const PageTitle = ({\n  title\n}: {\n  title: string;\n}) => {\n  return <Head data-sentry-element=\"Head\" data-sentry-component=\"PageTitle\" data-sentry-source-file=\"pageTitle.tsx\">\r\n      <title>{title}</title>\r\n      <meta property=\"og:title\" content={title} data-sentry-element=\"meta\" data-sentry-source-file=\"pageTitle.tsx\" />\r\n    </Head>;\n};","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/database\",\n      function () {\n        return require(\"private-next-pages/database.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/database\"])\n      });\n    }\n  "],"names":["gamesAtom","atom","fetchGamesAtom","useGameDatabase","db","setDb","useState","games","setGames","useAtom","fetchGames","setFetchGames","gameFromUrl","setGameFromUrl","undefined","useEffect","shouldFetchGames","initDatabase","openDB","upgrade","createObjectStore","keyPath","autoIncrement","loadGames","useCallback","getAll","addGame","game","gameToAdd","formatGameToDatabase","gameId","add","setGameEval","evaluation","get","put","eval","getGame","deleteGame","delete","useRouter","query","parseInt","then","isReady","gridLocaleText","GRID_DEFAULT_LOCALE_TEXT","noRowsLabel","GameDatabase","router","console","log","handleDeleteGameRow","id","handleCopyGameRow","navigator","Error","clipboard","writeText","pgn","columns","useMemo","field","headerName","width","headerAlign","align","valueGetter","_","row","white","name","rating","black","type","cellClassName","getActions","GridActionsCellItem","icon","Icon","label","onClick","push","pathname","color","red","blue","Grid","container","justifyContent","alignItems","gap","marginTop","data-sentry-element","data-sentry-component","data-sentry-source-file","PageTitle","title","size","LoadGameButton","Typography","variant","length","maxWidth","minWidth","DataGrid","aria-label","rows","disableColumnMenu","hideFooter","localeText","initialState","sorting","sortModel","sort","Head","meta","property","content"],"sourceRoot":""}
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c98dec1e-fcb2-48e3-abd0-4e97eecb2784",e._sentryDebugIdIdentifier="sentry-dbid-c98dec1e-fcb2-48e3-abd0-4e97eecb2784")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{3830:(e,t,r)=>{r.d(t,{U:()=>i,_:()=>a});var n=r(42200);let a=(0,n.tG)("pieceSet","merida"),i=(0,n.tG)("boardHue",185)},24936:(e,t,r)=>{r.d(t,{h:()=>j});var n=r(37876),a=r(62034),i=r(59434),o=r(57065),l=r(99542),s=r(85278),d=r(72359),c=r(14232),u=r(48232),m=r(54587),h=r.n(m),v=r(23993),f=r(3830);let p={position:"absolute",width:"100%",height:"100%",backgroundColor:"#eb6150",opacity:"0.8"},g={position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,.14)",padding:"35%",backgroundClip:"content-box",borderRadius:"50%",boxSizing:"border-box"},x=e=>({position:"absolute",width:"100%",height:"100%",backgroundColor:e?v.k_[e]:"#fad541",opacity:.5});var y=r(92003),b=r(87376);function w(e){let{height:t,boardOrientation:r,currentPositionAtom:o=(0,l.eU)({})}=e,[d,m]=(0,c.useState)({whiteBarPercentage:50,label:"0.0"}),h=(0,s.md)(o);return(0,c.useEffect)(()=>{var e;let t=null==h?void 0:null===(e=h.eval)||void 0===e?void 0:e.lines[0];h.eval&&t&&!(t.depth<6)&&m((0,b.nY)(h.eval))},[h]),(0,n.jsxs)(i.A,{container:!0,justifyContent:"center",alignItems:"center",width:{xs:"1.6rem",sm:"2rem"},height:t,border:"1px solid black",borderRadius:{xs:"3px",sm:"5px"},"data-sentry-element":"Grid","data-sentry-component":"EvaluationBar","data-sentry-source-file":"evaluationBar.tsx",children:[(0,n.jsx)(a.A,{sx:{backgroundColor:r===u.Q1.White?"#424242":"white",transition:"height 1s"},height:"".concat(r===u.Q1.White?100-d.whiteBarPercentage:d.whiteBarPercentage,"%"),width:"100%",borderRadius:100===d.whiteBarPercentage?{xs:"3px",sm:"5px"}:{xs:"3px 3px 0 0",sm:"5px 5px 0 0"},"data-sentry-element":"Box","data-sentry-source-file":"evaluationBar.tsx",children:(0,n.jsx)(y.A,{color:r===u.Q1.White?"white":"black",textAlign:"center",width:"100%",fontSize:{xs:"0.9rem",sm:"1rem"},"data-sentry-element":"Typography","data-sentry-source-file":"evaluationBar.tsx",children:d.whiteBarPercentage<50&&r===u.Q1.White||d.whiteBarPercentage>=50&&r===u.Q1.Black?d.label:""})}),(0,n.jsx)(a.A,{sx:{backgroundColor:r===u.Q1.White?"white":"#424242",transition:"height 1s"},height:"".concat(r===u.Q1.White?d.whiteBarPercentage:100-d.whiteBarPercentage,"%"),width:"100%",display:"flex",alignItems:"flex-end",borderRadius:100===d.whiteBarPercentage?{xs:"3px",sm:"5px"}:{xs:"0 0 3px 3px",sm:"0 0 5px 5px"},"data-sentry-element":"Box","data-sentry-source-file":"evaluationBar.tsx",children:(0,n.jsx)(y.A,{color:r===u.Q1.White?"black":"white",textAlign:"center",width:"100%",fontSize:{xs:"0.9rem",sm:"1rem"},"data-sentry-element":"Typography","data-sentry-source-file":"evaluationBar.tsx",children:d.whiteBarPercentage>=50&&r===u.Q1.White||d.whiteBarPercentage<50&&r===u.Q1.Black?d.label:""})})]})}var k=r(42993),S=r(92705);function C(e){let{fen:t,color:r}=e,a=(0,c.useMemo)(()=>(0,b.Kz)(t,r).map(e=>{let{piece:t,count:r}=e;return A(t,r)}),[t,r]),o=(0,c.useMemo)(()=>{let e=(0,b.LR)(t);return r===u.Q1.White?e:-e},[t,r]);return(0,n.jsxs)(i.A,{container:!0,alignItems:"end",spacing:.7,size:"auto",marginLeft:"-".concat(.165,"rem"),"data-sentry-element":"Grid","data-sentry-component":"CapturedPieces","data-sentry-source-file":"capturedPieces.tsx",children:[(0,n.jsx)(k.A,{direction:"row",spacing:.1,"data-sentry-element":"Stack","data-sentry-source-file":"capturedPieces.tsx",children:a}),o>0&&(0,n.jsxs)(y.A,{lineHeight:"".concat(.8250000000000001,"rem"),fontSize:"".concat(.8250000000000001,"rem"),marginLeft:.3,children:["+",o]})]})}let A=(e,t)=>t?(0,n.jsx)(k.A,{direction:"row",spacing:"-".concat(.66,"rem"),"data-sentry-element":"Stack","data-sentry-component":"getCapturedPiecesComponents","data-sentry-source-file":"capturedPieces.tsx",children:Array(t).fill(0).map((t,r)=>(0,n.jsx)(a.A,{width:"".concat(1.1,"rem"),height:"".concat(1.1,"rem"),sx:{backgroundImage:"url(/piece/cardinal/".concat(e,".svg)"),backgroundRepeat:"no-repeat"}},"".concat(e,"-").concat(r)))},e):null;var E=r(94309);function B(e){let{color:t,player:r,gameAtom:a}=e,o=(0,s.md)(a),l=o.fen(),d=(0,c.useMemo)(()=>{if(o.turn()===t){var e,r;let t=null===(e=o.history({verbose:!0}).at(-1))||void 0===e?void 0:e.before;return I(null===(r=o.getComments().find(e=>{let{fen:r}=e;return r===t}))||void 0===r?void 0:r.comment)}return I(o.getComment())},[o,t]);return(0,n.jsxs)(i.A,{container:!0,justifyContent:"space-between",alignItems:"center",size:12,"data-sentry-element":"Grid","data-sentry-component":"PlayerHeader","data-sentry-source-file":"playerHeader.tsx",children:[(0,n.jsxs)(k.A,{direction:"row","data-sentry-element":"Stack","data-sentry-source-file":"playerHeader.tsx",children:[(0,n.jsx)(S.A,{src:r.avatarUrl,alt:r.name,variant:"circular",sx:{width:40,height:40,backgroundColor:t===u.Q1.White?"white":"black",color:t===u.Q1.White?"black":"white",border:"1px solid black"},"data-sentry-element":"Avatar","data-sentry-source-file":"playerHeader.tsx",children:r.name[0].toUpperCase()}),(0,n.jsxs)(k.A,{marginLeft:1,"data-sentry-element":"Stack","data-sentry-source-file":"playerHeader.tsx",children:[(0,n.jsxs)(k.A,{direction:"row","data-sentry-element":"Stack","data-sentry-source-file":"playerHeader.tsx",children:[(0,n.jsx)(y.A,{fontSize:"0.9rem","data-sentry-element":"Typography","data-sentry-source-file":"playerHeader.tsx",children:r.name}),r.rating&&(0,n.jsxs)(y.A,{marginLeft:.5,fontSize:"0.9rem",fontWeight:"200",children:["(",r.rating,")"]})]}),(0,n.jsx)(C,{fen:l,color:t,"data-sentry-element":"CapturedPieces","data-sentry-source-file":"playerHeader.tsx"})]})]}),d&&(0,n.jsxs)(y.A,{align:"center",sx:{backgroundColor:t===u.Q1.White?"white":"black",color:t===u.Q1.White?"black":"white"},borderRadius:"5px",padding:.8,border:"1px solid #424242",width:"5rem",textAlign:"right",children:[d.hours?"".concat(d.hours,":"):"",(0,E.Yn)(d.minutes),":",(0,E.Yn)(d.seconds),d.hours||d.minutes||d.seconds>20?"":".".concat(d.tenths)]})]})}let I=e=>{if(!e)return;let t=e.match(/\[%clk (\d+):(\d+):(\d+)(?:\.(\d*))?\]/);if(t)return{hours:parseInt(t[1]),minutes:parseInt(t[2]),seconds:parseInt(t[3]),tenths:t[4]?parseInt(t[4]):0}};var P=r(62465);function j(e){var t;let{id:r,canPlay:m,gameAtom:y,boardSize:b,whitePlayer:k,blackPlayer:S,boardOrientation:C=u.Q1.White,currentPositionAtom:A=(0,l.eU)({}),showBestMoveArrow:E=!1,showPlayerMoveIconAtom:I,showEvaluationBar:j=!1}=e,M=(0,c.useRef)(null),Q=(0,s.md)(y),{playMove:T}=(0,d.j)(y),z=(0,c.useMemo)(()=>(0,l.eU)([]),[]),R=(0,s.Xr)(z),W=(0,c.useMemo)(()=>(0,l.eU)([]),[]),H=(0,s.Xr)(W),L=(0,s.md)(A),[N,U]=(0,c.useState)(!1),[D,G]=(0,c.useState)(null),[K,O]=(0,c.useState)(null),F=(0,s.md)(f._),q=(0,s.md)(f.U),X=Q.fen();(0,c.useEffect)(()=>{R([])},[X,R]);let $=(0,c.useCallback)(e=>{let{piece:t}=e;return!Q.isGameOver()&&!!m&&(!0===m||m===t[0])},[m,Q]),J=(0,c.useCallback)((e,t,r)=>{var n,a;return!!$({piece:r})&&!!T({from:e,to:t,promotion:null!==(a=null===(n=r[1])||void 0===n?void 0:n.toLowerCase())&&void 0!==a?a:"q"})},[$,T]),Y=(0,c.useCallback)(e=>{G(null!=e?e:null),O(null),U(!1),e?H(Q.moves({square:e,verbose:!0}).map(e=>e.to)):H([])},[G,O,H,Q]),V=(0,c.useCallback)((e,t)=>{if(R([]),!D){if(t&&!$({piece:t}))return;Y(e);return}let r=Q.moves({square:D,verbose:!0}).find(t=>t.to===e);if(!r){Y(e);return}if(O(e),"p"===r.piece&&("w"===r.color&&"8"===e[1]||"b"===r.color&&"1"===e[1])){U(!0);return}Y(T({from:D,to:e})?void 0:e)},[Q,$,D,T,Y,R]),Z=(0,c.useCallback)(e=>{R(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[R]),ee=(0,c.useCallback)((e,t)=>{Y(t)},[Y]),et=(0,c.useCallback)(()=>{Y()},[Y]),er=(0,c.useCallback)((e,t,r)=>{var n,a;if(!e)return!1;let i=null!==(a=null===(n=e[1])||void 0===n?void 0:n.toLowerCase())&&void 0!==a?a:"q";if(D&&K){let e=T({from:D,to:K,promotion:i});return Y(),!!e}if(t&&r){let e=T({from:t,to:r,promotion:i});return Y(),!!e}return Y(D),!1},[D,K,T,Y]),en=(0,c.useMemo)(()=>{var e,t;let r=null==L?void 0:null===(e=L.lastEval)||void 0===e?void 0:e.bestMove,n=null==L?void 0:null===(t=L.eval)||void 0===t?void 0:t.moveClassification;return r&&E&&n!==u.eK.Best&&n!==u.eK.Opening&&n!==u.eK.Forced&&n!==u.eK.Perfect?[[r.slice(0,2),r.slice(2,4),(0,P.A)(v.k_[u.eK.Best]).spin(-q).toHexString()]]:[]},[L,E,q]),ea=(0,c.useMemo)(()=>(function(e){let{currentPositionAtom:t,clickedSquaresAtom:r,playableSquaresAtom:a,showPlayerMoveIconAtom:i=(0,l.eU)(!1),boardSize:o}=e,d=(0,c.forwardRef)((e,l)=>{var d,u,m;let{children:v,square:y,style:b}=e,w=(0,s.md)(i),k=(0,s.md)(t),S=(0,s.md)(r),C=(0,s.md)(a),A=(0,s.md)(f.U),E=null===(d=k.lastMove)||void 0===d?void 0:d.from,B=null===(u=k.lastMove)||void 0===u?void 0:u.to,I=null==k?void 0:null===(m=k.eval)||void 0===m?void 0:m.moveClassification,P=(0,c.useMemo)(()=>S.includes(y)?p:E===y||B===y?x(I):void 0,[S,y,E,B,I]),j=(0,c.useMemo)(()=>C.includes(y)?g:void 0,[C,y]);return(0,n.jsxs)("div",{ref:l,style:{...b,position:"relative",filter:A?"hue-rotate(-".concat(A,"deg)"):void 0},children:[v,P&&(0,n.jsx)("div",{style:P}),j&&(0,n.jsx)("div",{style:j}),I&&w&&y===B&&(0,n.jsx)(h(),{src:"icons/".concat(I,".png"),alt:"move-icon",width:Math.min(40,.06*o),height:Math.min(40,.06*o),style:{position:"absolute",top:Math.max(-13.5,-.03*o)+"px",right:Math.max(-13.5,-.03*o)+"px",zIndex:100}})]})});return d.displayName="SquareRenderer",d})({currentPositionAtom:A,clickedSquaresAtom:z,playableSquaresAtom:W,showPlayerMoveIconAtom:I,boardSize:b||400}),[A,z,W,I,b]),ei=(0,c.useMemo)(()=>_.reduce((e,t)=>(e[t]=e=>{let{squareWidth:r}=e;return(0,n.jsx)(a.A,{width:r,height:r,sx:{backgroundImage:"url(/piece/".concat(F,"/").concat(t,".svg)"),backgroundSize:"contain"}})},e),{}),[F]),eo=(0,c.useMemo)(()=>{let e={borderRadius:"5px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.5)"};return q?{...e,filter:"hue-rotate(".concat(q,"deg)")}:e},[q]);return(0,n.jsxs)(i.A,{container:!0,justifyContent:"center",alignItems:"center",wrap:"nowrap",width:b,"data-sentry-element":"Grid","data-sentry-component":"Board","data-sentry-source-file":"index.tsx",children:[j&&(0,n.jsx)(w,{height:(null==M?void 0:null===(t=M.current)||void 0===t?void 0:t.offsetHeight)||b||400,boardOrientation:C,currentPositionAtom:A}),(0,n.jsxs)(i.A,{container:!0,rowGap:1.5,justifyContent:"center",alignItems:"center",paddingLeft:{xs:.5,sm:2*!!j},size:"grow","data-sentry-element":"Grid","data-sentry-source-file":"index.tsx",children:[(0,n.jsx)(B,{color:C===u.Q1.White?u.Q1.Black:u.Q1.White,gameAtom:y,player:C===u.Q1.White?S:k,"data-sentry-element":"PlayerHeader","data-sentry-source-file":"index.tsx"}),(0,n.jsx)(i.A,{container:!0,justifyContent:"center",alignItems:"center",ref:M,size:12,"data-sentry-element":"Grid","data-sentry-source-file":"index.tsx",children:(0,n.jsx)(o.Ve,{id:"".concat(r,"-").concat(m),position:X,onPieceDrop:J,boardOrientation:C===u.Q1.White?"white":"black",customBoardStyle:eo,customArrows:en,isDraggablePiece:$,customSquare:ea,onSquareClick:V,onSquareRightClick:Z,onPieceDragBegin:ee,onPieceDragEnd:et,onPromotionPieceSelect:er,showPromotionDialog:N,promotionToSquare:K,animationDuration:200,customPieces:ei,"data-sentry-element":"Chessboard","data-sentry-source-file":"index.tsx"})}),(0,n.jsx)(B,{color:C,gameAtom:y,player:C===u.Q1.White?k:S,"data-sentry-element":"PlayerHeader","data-sentry-source-file":"index.tsx"})]})]})}let _=["wP","wB","wN","wR","wQ","wK","bP","bB","bN","bR","bQ","bK"]},30333:(e,t,r)=>{r.d(t,{$:()=>s});var n=r(16042),a=r(69114),i=r(65364);let o=i.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID?{apiKey:i.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:i.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:i.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:i.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:i.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:i.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:i.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID}:void 0,l=o?(0,n.Wp)(o):void 0;(0,a.TT)().then(e=>{e&&l&&(0,a.P5)(l)});let s=async(e,t)=>{if("localhost"===window.location.hostname||!await (0,a.TT)()||!l)return;let r=(0,a.P5)(l);(0,a.$s)(r,e,t)}},46852:(e,t,r)=>{r.d(t,{A:()=>v});var n=r(37876),a=r(98594),i=r(59434),o=r(42993),l=r(92003),s=r(13679),d=r(71733),c=r(6482),u=r(35268),m=r(19330),h=r(14232);function v(e){let{min:t,max:r,label:u,value:m,setValue:v,size:p,marksFilter:g,step:x=1,infoContent:y}=e,[b,w]=(0,h.useState)(null),k=e=>{w(e.currentTarget)},S=()=>{w(null)};return(0,n.jsxs)(i.A,{container:!0,justifyContent:"center",alignItems:"center",size:null!=p?p:11,"data-sentry-element":"Grid","data-sentry-component":"Slider","data-sentry-source-file":"slider.tsx",children:[(0,n.jsxs)(o.A,{direction:"row",width:"100%","data-sentry-element":"Stack","data-sentry-source-file":"slider.tsx",children:[(0,n.jsx)(l.A,{id:"input-".concat(u),variant:"body2","data-sentry-element":"Typography","data-sentry-source-file":"slider.tsx",children:1===x&&g?u:"".concat(u,": ").concat(m)}),!!y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.x,{onClickAway:S,children:(0,n.jsx)(d.A,{size:"medium","aria-owns":b?"mouse-over-popover":void 0,"aria-haspopup":"true",onClick:k,onMouseEnter:k,onMouseLeave:S,sx:{ml:1,padding:0},"aria-label":"Help about number of threads",children:(0,n.jsx)(a.In,{icon:"mdi:info-outline",width:"1.1rem"})})}),(0,n.jsx)(c.Ay,{id:"mouse-over-popover",open:!!b,anchorEl:b,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:{pointerEvents:"none"},disableRestoreFocus:!0,children:(0,n.jsx)(l.A,{variant:"body2",sx:{padding:2,maxWidth:500},children:y})})]})]}),(0,n.jsx)(f,{min:t,max:r,marks:g?Array.from({length:r-t+1},(e,r)=>({value:r+t,label:"".concat(r+t)})).filter((e,t)=>t%g==0):void 0,step:x,valueLabelDisplay:"off",value:m,onChange:(e,t)=>v(t),"aria-labelledby":"input-".concat(u),"data-sentry-element":"CustomSlider","data-sentry-source-file":"slider.tsx"})]})}let f=(0,u.Ay)(m.Ay)(()=>({".MuiSlider-markLabel":{fontSize:"0.8rem",lineHeight:"0.8rem"},".MuiSlider-thumb":{width:"18px",height:"18px"},marginBottom:"1rem"}))},55246:(e,t,r)=>{r.d(t,{K:()=>l});var n=r(85278),a=r(12839),i=r(41615),o=r(80721);let l=e=>{var t,r,i,o;let l=(0,n.md)(e),{gameFromUrl:d}=(0,a.R)(),c=l.getHeaders(),u=c.White&&"?"!==c.White?c.White:void 0,m=c.Black&&"?"!==c.Black?c.Black:void 0,h=(null==d?void 0:null===(t=d.white)||void 0===t?void 0:t.name)||u||"White",v=(null==d?void 0:null===(r=d.black)||void 0===r?void 0:r.name)||m||"Black",f=(null==d?void 0:null===(i=d.white)||void 0===i?void 0:i.rating)||Number(c.WhiteElo)||void 0,p=(null==d?void 0:null===(o=d.black)||void 0===o?void 0:o.rating)||Number(c.BlackElo)||void 0,g=((null==d?void 0:d.site)||c.Site||"unknown").toLowerCase().includes("chess.com"),x=s(h,g&&!!h&&"White"!==h),y=s(v,g&&!!v&&"Black"!==v);return{white:{name:h,rating:f,avatarUrl:null!=x?x:void 0},black:{name:v,rating:p,avatarUrl:null!=y?y:void 0}}},s=(e,t)=>{let{data:r}=(0,i.I)({queryKey:["CCAvatar",e],enabled:t,queryFn:()=>(0,o.e)(e),staleTime:36e5,gcTime:864e5});return r}},57705:(e,t,r)=>{r.d(t,{l:()=>a});var n=r(14232);let a=()=>{var e,t,r;let[a,i]=(0,n.useState)({width:null!==(r=null===(t=document)||void 0===t?void 0:null===(e=t.querySelector(".MuiGrid2-root"))||void 0===e?void 0:e.clientWidth)&&void 0!==r?r:500,height:window?window.innerHeight-120:500});return(0,n.useEffect)(()=>{var e;let t=null===(e=document)||void 0===e?void 0:e.querySelector(".MuiGrid2-root");if(!t)return;let r=new ResizeObserver(()=>i(e=>({...e,width:t.clientWidth})));return r.observe(t),()=>{r.disconnect()}},[]),(0,n.useEffect)(()=>{let e=()=>{i(e=>({...e,height:window.innerHeight-100}))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),a}},72359:(e,t,r)=>{r.d(t,{j:()=>p});var n=r(87376);let a=null,i=null,o=new Map,l={move:"/sounds/move.mp3",capture:"/sounds/capture.mp3",illegalMove:"/sounds/error.mp3"},s=async e=>{i&&clearTimeout(i),i=setTimeout(async()=>{a||(a=new AudioContext),"suspended"===a.state&&await a.resume();let t=o.get(l[e]);if(!t){let r=await fetch(l[e]),n=await a.decodeAudioData(await r.arrayBuffer());t=n,o.set(l[e],n)}let r=a.createBufferSource();r.buffer=t;let n=a.createGain();n.gain.value=.3,r.connect(n),n.connect(a.destination),r.start()},1)},d=()=>s("capture"),c=()=>s("illegalMove"),u=()=>s("move"),m=e=>e?e.captured?d():u():c();var h=r(22277),v=r(85278),f=r(14232);let p=e=>{let[t,r]=(0,v.fp)(e),a=(0,f.useCallback)(e=>{let t=new h.d$;t.loadPgn(e),r(t)},[r]),i=(0,f.useCallback)(e=>{let t=new h.d$(null==e?void 0:e.fen);(null==e?void 0:e.noHeaders)||(0,n.nt)(t,e),r(t)},[r]),o=(0,f.useCallback)(()=>{let e=new h.d$;if(0===t.history().length){var r,n;let a=t.pgn().split("]");if(["1-0","0-1","1/2-1/2","*"].includes(null!==(n=null===(r=a.at(-1))||void 0===r?void 0:r.trim())&&void 0!==n?n:""))return e.loadPgn(a.slice(0,-1).join("]")+"]"),e}return e.loadPgn(t.pgn()),e},[t]),l=(0,f.useCallback)(e=>{let t=e?(0,n.w0)(e):o();t.load(t.getHeaders().FEN||h.OS,{preserveHeaders:!0}),r(t)},[o,r]),s=(0,f.useCallback)(e=>{let t=o();try{let{comment:n,...a}=e,i=t.move(a);return n&&t.setComment(n),r(t),m(i),i}catch(e){return c(),null}},[o,r]),d=(0,f.useCallback)(e=>{let t=o(),n=null;for(let r of e)n=t.move(r);r(t),n&&m(n)},[o,r]);return{setPgn:a,reset:i,playMove:s,undoMove:(0,f.useCallback)(()=>{let e=o(),t=e.undo();t&&m(t),r(e)},[o,r]),goToMove:(0,f.useCallback)((e,t)=>{if(e<0)return;let n=new h.d$;n.loadPgn(t.pgn());let a=t.history().length;if(e>a)return;let i={};for(let t=a;t>e;t--)i=n.undo();r(n),m(i)},[r]),resetToStartingPosition:l,addMoves:d}}},80542:(e,t,r)=>{r.d(t,{K:()=>c});var n=r(3642),a=r(49651),i=r(31662),o=r(98510),l=r(23937),s=r(48232),d=r(14232);let c=e=>{let[t,r]=(0,d.useState)(null);return(0,d.useEffect)(()=>{e&&(e===s.Qz.Stockfish11||(0,n.TH)())&&u(e).then(e=>{r(t=>(null==t||t.shutdown(),e))})},[e]),t},u=e=>{switch(e){case s.Qz.Stockfish17:return l.f.create(!1);case s.Qz.Stockfish17Lite:return l.f.create(!0);case s.Qz.Stockfish16_1:return o.m.create(!1);case s.Qz.Stockfish16_1Lite:return o.m.create(!0);case s.Qz.Stockfish16:return i.K.create(!1);case s.Qz.Stockfish16NNUE:return i.K.create(!0);case s.Qz.Stockfish11:return a.T.create()}}},89665:(e,t,r)=>{r.d(t,{v:()=>i});var n=r(85278),a=r(14232);function i(e,t){let[r,i]=(0,a.useState)(""),[o,l]=(0,n.fp)(t);return(0,a.useEffect)(()=>{var t;i(e);let r=window.localStorage.getItem(e);if(!r)return;let n="undefined"===(t=r)?void 0:JSON.parse(t);n&&l(n)},[e,l]),(0,a.useEffect)(()=>{r===e&&window.localStorage.setItem(e,JSON.stringify(o))},[e,r,o]),[o,l]}}}]);